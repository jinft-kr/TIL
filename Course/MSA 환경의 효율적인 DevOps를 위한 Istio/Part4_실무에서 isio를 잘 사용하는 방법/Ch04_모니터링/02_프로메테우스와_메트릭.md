### 02. 프로메테우스와 메트릭

### [METRIC TYPES](https://prometheus.io/docs/concepts/metric_types/)
- Counter
  - 가장 많이 수집되는 유형
  - 증가하는 이벤트의 누적갯수 또는 크기 / 리셋시 제로!
  - Ex) 초당 요청 갯수, task가 성공했는지, error 갯수
- Gauge
  - 간단한 수로 표현되는 녀석
  - 증가할 수도 있고 감소할 수도 있음
  - Ex) 메모리 할당량, running process 갯수 
- Histogram
  - 특정 버킷에 속하는 값의 관찰 빈도 측정
  - 다소 복잡한 유형이며 istio metirc dptj gkdtkd dltbrk aksgdms sutjr
  - Quantiles 라고해서 분위수 계산할 때 유용. 예를 들면 p95 latency
- Summary

### [Data Model](https://prometheus.io/docs/concepts/data_model/)
- <metric name>(<label name>=<label value>, ...)
  - api_http_requests_total(method="POST", handler="/messages")

### [OPERATORS](https://prometheus.io/docs/prometheus/latest/querying/operators/)
- `=` : equal
- `!=` : not-equal
- `=-` : matches regex
- `!-` : doesnit match regex

- 쿼리에 범위 기간을 추가해서 각 메트릭의 여러 값을 얻는다. 이를 Range Vectorfkrh gka
- Range Vector(가로축) -> Aggregator func(세로축) -> instant Vector(세로축 한 지점을 나타냄)
- Rate() : 전체 범위에 걸쳐 Range Vector에서 시계열의 초당 평균 증감율
- Irate() : Range의 마지막 두 데이터 포인트만 사용해 범위 벡터의 시계열 초당 평균 증감율
- increase() : Time Range 동안의 증가량
- [Aggregation Operators](https://prometheus.io/docs/prometheus/latest/querying/operators/#aggregation-operators)

### [FUNCTIONS](https://prometheus.io/docs/prometheus/latest/querying/functions/)